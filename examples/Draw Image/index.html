<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<title>PixelStab ASCII Engine</title>

	<meta name="author" content="Felipe Alfonso">

	<meta name="apple-mobile-web-app-capable" content="yes"/>
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
	<style type="text/css">

		body{
			height: 100%;
			overflow: hidden; /* keeps scrollbar off IE */
			font-family: arial,sans-serif;
			font-size: 13px;
			color: #00ff00;
			background-color: #000;
			padding:0px;
			margin:0px;
			text-align: center;
		}


	</style>
</head>
<body>

	<script type="text/javascript" src="../../ps.min.1.0.js" ></script>
	<script type="text/javascript">


		ps.ASCIIDisplay.createDisplay( 100, 50, 12 );
		ps.ASCIIDisplay.invert = true;

		var img = new ps.ASCIISprite(0,0,"cop.png",function( p ){
				p.x =  - p.width ;
				music.play();
				update();
			}),
			speed = 1,
			music = new Audio( "music1.mp3" );
		music.addEventListener("ended", function(){
			music.currentTime = 0;
			music.play();
		});

		function update(){
			setTimeout( update, 1000 / 30 );
			ps.ASCIIDisplay.clearScreen( ps.ASCIIColors.BLACK );

			img.x+=speed;
			img.y=Math.sin(img.x/10)*30;
			img.y-=25;
			if( img.x > ps.ASCIIDisplay.width ) img.x = -img.width;

			img.render();

			ps.ASCIIDisplay.flush();

		}

	</script>
</body>
</html>